{"componentChunkName":"component---src-components-blog-post-layout-tsx","path":"/about-building-this-blog/","result":{"data":{"site":{"siteMetadata":{"title":"overpurple - A blog by GuHo"}},"markdownRemark":{"id":"7b0c4f45-30b2-56f1-82a9-da7205138fc2","excerpt":"在看到Dan的overreact.io时，我的眼睛瞬间被吸引，优雅真是太优雅了，所以我迫不及待想搭建一个类似的博客网站。 搭建需要的工具链\nGatsby 开始搭建 本博客是直接在blog模版gatsby-starter-blog…","html":"<p>在看到Dan的<a href=\"https://overreacted.io/\">overreact.io</a>时，我的眼睛瞬间被吸引，优雅真是太优雅了，所以我迫不及待想搭建一个类似的博客网站。</p>\n<blockquote>\n<p>搭建需要的工具链\nGatsby</p>\n</blockquote>\n<h4 id=\"开始搭建\" style=\"position:relative;\"><a href=\"#%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA\" aria-label=\"开始搭建 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>开始搭建</h4>\n<p>本博客是直接在blog模版<a href=\"https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-blog/\">gatsby-starter-blog</a> 的基础上搭建而成的。</p>\n<p>首先我们使用命令来创建，自定义你的项目名</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npx gatsby <span class=\"token keyword\">new</span> 你的项目名 https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>gatsbyjs<span class=\"token operator\">/</span>gatsby<span class=\"token operator\">-</span>starter<span class=\"token operator\">-</span>blog</code></pre></div>\n<p>创建完成后 <code class=\"language-text\">cd到你的项目文件夹</code>，运行 <code class=\"language-text\">yarn develop</code> 即可在浏览器 <code class=\"language-text\">http://localhost:8000/</code> 显示项目模版内容</p>\n<h4 id=\"修改目录结构\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%94%B9%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84\" aria-label=\"修改目录结构 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修改目录结构</h4>\n<p>首先我们在 <code class=\"language-text\">style.css</code> 将主题自定义成我们自己的样式</p>\n<ul>\n<li>为了方便和美观将默认的content/blog文件放进src中，更改<code class=\"language-text\">gatsby-config-js</code>中<code class=\"language-text\">gatsby-source-filesystem</code>的path指向为src。</li>\n</ul>\n<h4 id=\"使用ts\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8ts\" aria-label=\"使用ts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用ts</h4>\n<p>引入typescript 并且创建tsconfig.json</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">-</span><span class=\"token constant\">D</span> typescript <span class=\"token operator\">&amp;&amp;</span> npx tsc <span class=\"token operator\">--</span>init</code></pre></div>\n<p>具体配置详见: <a href=\"https://github.com/guho-lovex/overpurple.io/blob/master/tsconfig.json\">tsconfig.json</a></p>\n<h4 id=\"配置eslint和prettier\" style=\"position:relative;\"><a href=\"#%E9%85%8D%E7%BD%AEeslint%E5%92%8Cprettier\" aria-label=\"配置eslint和prettier permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置Eslint和prettier</h4>\n<p>Eslint规范typescript和react</p>\n<ul>\n<li>安装依赖</li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add eslint @typescript<span class=\"token operator\">-</span>eslint<span class=\"token operator\">/</span>parser @typescript<span class=\"token operator\">-</span>eslint<span class=\"token operator\">/</span>eslint<span class=\"token operator\">-</span>plugin eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>react eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>react<span class=\"token operator\">-</span>hooks eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span><span class=\"token keyword\">import</span></code></pre></div>\n<blockquote>\n<p>eslint: eslint核心代码\n@typescript-eslint/parser: esLint 的解析器，解析 TypeScript，检查和规范 TypeScript 代码；\n@typescript-eslint/eslint-plugin: esLint 插件，包含了定义好的检测 TypeScript 代码的规范。\neslint-plugin-react： 校验 React\neslint-plugin-react-hooks： 根据 Hooks API 校验 Hooks 的使用\neslint-plugin-import: 此插件主要为了校验 import/export 语法，防止错误拼写文件路径以及导出名称的问题 进行排序</p>\n</blockquote>\n<p>根目录下新建<code class=\"language-text\">.eslintrc.js</code>，具体配置如<a href=\"https://github.com/guho-lovex/overpurple.io/blob/master/.eslintrc.js\">.eslintrc.js</a>，</p>\n<ul>\n<li>配置prettier</li>\n</ul>\n<p>在.vscode/settings.json中新增一个属性，保存自动格式化</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"editor.formatOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>安装依赖</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add prettier eslint<span class=\"token operator\">-</span>config<span class=\"token operator\">-</span>prettier eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>prettier</code></pre></div>\n<blockquote>\n<p>prettier: 格式化规则程序\neslint-config-prettier: 禁用所有和 Prettier 产生冲突的规则\neslint-plugin-prettier: 把 Prettier 应用到 Eslint，配合 rules \"prettier/prettier\": \"error\" 实现 Eslint 提醒。</p>\n</blockquote>\n<p>根目录下新建<code class=\"language-text\">.prettierrc</code>和<code class=\"language-text\">.prettierignore</code>,具体配置如<a href=\"https://github.com/guho-lovex/overpurple.io/blob/master/.prettierrc\">.prettierrc</a>、<a href=\"https://github.com/guho-lovex/overpurple.io/blob/master/.prettierignore\">.prettierignore</a></p>\n<h4 id=\"配置husky和lint-staged构建提交校验\" style=\"position:relative;\"><a href=\"#%E9%85%8D%E7%BD%AEhusky%E5%92%8Clint-staged%E6%9E%84%E5%BB%BA%E6%8F%90%E4%BA%A4%E6%A0%A1%E9%AA%8C\" aria-label=\"配置husky和lint staged构建提交校验 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置husky和lint-staged构建提交校验</h4>\n<p>安装依赖</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">-</span><span class=\"token constant\">D</span> husky lint<span class=\"token operator\">-</span>staged</code></pre></div>\n<p>配置husky的pre-commit钩子</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npx husky install</code></pre></div>\n<p>会在根目录生成.husky文件，生成文件后，我们需要在husky的钩子监听pre-commit后，执行我们自定义的语法检查</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npx husky add <span class=\"token punctuation\">.</span>husky<span class=\"token operator\">/</span>pre<span class=\"token operator\">-</span>commit <span class=\"token string\">'yarn check-type &amp;&amp; yarn lint-staged'</span></code></pre></div>\n<p>在package.json文件中添加如下脚本</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint --ext js,jsx,ts,tsx .\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"check-type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc --noEmit\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"lint-staged\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"*.{js,jsx,ts,tsx}\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"eslint --fix\"</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"配置tailwindcss\" style=\"position:relative;\"><a href=\"#%E9%85%8D%E7%BD%AEtailwindcss\" aria-label=\"配置tailwindcss permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置tailwindcss</h4>\n<p>将tailwind作为PostCss插件安装是将其与构建工具集成的最无缝方式\n具体的配置路径：<a href=\"https://tailwindcss.com/docs/installation/using-postcss\">Get started with Tailwind CSS</a></p>\n<ul>\n<li>安装tailwindcss并且创建<code class=\"language-text\">tailwind.config.js</code></li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -D tailwindcss postcss autoprefixer\nnpx tailwindcss init</code></pre></div>\n<ul>\n<li>添加<code class=\"language-text\">tailwindcss</code>和<code class=\"language-text\">autoprefixer</code>到<code class=\"language-text\">postcss.config.css</code></li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">tailwindcss</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">autoprefixer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>配置模版路径</li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'./src/pages/**/*.{js,jsx,ts,tsx}'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'./src/components/**/*.{js,jsx,ts,tsx}'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">theme</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">extend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<ul>\n<li>将tailwind指令添加到全局css中</li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">@tailwind base;\n@tailwind components;\n@tailwind utilities;</code></pre></div>\n<ul>\n<li>yarn dev后就可以正常使用tailwindcss了</li>\n</ul>\n<h4 id=\"将本地搭建好的项目推送至github\" style=\"position:relative;\"><a href=\"#%E5%B0%86%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BA%E5%A5%BD%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E8%87%B3github\" aria-label=\"将本地搭建好的项目推送至github permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>将本地搭建好的项目推送至github</h4>\n<ul>\n<li>检查是否生成密钥</li>\n</ul>\n<p>ls有两个文件，id_rsa.pub就是公钥</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"s\"><pre class=\"language-s\"><code class=\"language-s\">cd ~/.ssh\nls</code></pre></div>\n<p>如果没有生成，则通过命令回车生成ssh key</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"s\"><pre class=\"language-s\"><code class=\"language-s\">$ ssh-keygen -t rsa -C &quot;github登录邮箱email@example.com&quot;</code></pre></div>\n<p>github添加ssh：settings -> SSH and GPG KEYS, 点击New SSH key, 把id_rsa.pub的内容复制到key中</p>\n<ul>\n<li>然后在github上创建一个new github仓库</li>\n<li>在本地项目中创建一个git仓库</li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git init</code></pre></div>\n<p>提交本地代码至git</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git add .\ngit commit -m \"XXX\"</code></pre></div>\n<p>将main改至master</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git branch -M master</code></pre></div>\n<p>将本地仓库关联到github上</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git remote add origin 你的github仓库地址</code></pre></div>\n<p>将本地仓库所有内容推送至远程库</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git push -u origin master</code></pre></div>\n<h4 id=\"创建黑暗模式\" style=\"position:relative;\"><a href=\"#%E5%88%9B%E5%BB%BA%E9%BB%91%E6%9A%97%E6%A8%A1%E5%BC%8F\" aria-label=\"创建黑暗模式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建黑暗模式</h4>\n<p>这里详见另一篇博文：<a href=\"https://guho-lovex.github.io/overpurple.io/the-pursuit-of-perfect-dark-patterns\">The pursuit of perfect dark patterns</a></p>\n<p>本地仓库推到github仓库\ncreate a new repository on the command line</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git init\ngit add README.md\ngit commit -m \"first commit\"\ngit branch -M master\ngit remote add origin github仓库ssh/https地址\ngit push -u origin master</code></pre></div>\n<p>or push an existing repository from the command line</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git remote add origin github仓库ssh/https地址\ngit branch -M master\ngit push -u origin master</code></pre></div>\n<p>srr serve与client 页面路径不匹配时（没有正确水合 hydrate ），这导致 gatsby develop 和 gatsby build 不一致。排查是否使用了window及其的方法，如果有，我们需要将获取放在useEffect中，保证代码不会执行，除非在浏览器中。详见：<a href=\"&#x27;https://www.gatsbyjs.com/docs/debugging-html-builds/&#x27;\">Debugging HTML Builds</a></p>\n<h4 id=\"使用github-actions自动化部署\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8github-actions%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2\" aria-label=\"使用github actions自动化部署 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用Github Actions自动化部署</h4>\n<p>Github Actions是github提供的免费的自动化构建部署，用于构建、测试和部署应用代码的平台</p>\n<p>在仓库中设置Github Actions\n点击仓库中的Actions选项卡，点击set up workflow yourself,如图所示\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.9873417721519%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAArklEQVR42nWQ2wqCQBRFfYjCyzhXx1FnDNIiyMoEs///sR0zRfTiw2JxOIe94UQZLZDmChnT4NygZxqWaaREIc5EICESMZEgvMQ2ptjsyCqRD/KktAi2bYfKdTDebQ93OAfX+yN40fzu1oh8q8cPuTA4DRPG+xPz+MLjOmMeF9yGCZdxCeFM1ZClg9AWXNvgDy7sov90H8xkBSUaKOGgZAtJS3AikXzf4kvXINzgDdgFY5YrtrMnAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"\"\n        src=\"/overpurple.io/static/75a8761b6c75ab4e877442c723cb3a3f/f058b/image2.png\"\n        srcset=\"/overpurple.io/static/75a8761b6c75ab4e877442c723cb3a3f/c26ae/image2.png 158w,\n/overpurple.io/static/75a8761b6c75ab4e877442c723cb3a3f/6bdcf/image2.png 315w,\n/overpurple.io/static/75a8761b6c75ab4e877442c723cb3a3f/f058b/image2.png 630w,\n/overpurple.io/static/75a8761b6c75ab4e877442c723cb3a3f/40601/image2.png 945w,\n/overpurple.io/static/75a8761b6c75ab4e877442c723cb3a3f/78612/image2.png 1260w,\n/overpurple.io/static/75a8761b6c75ab4e877442c723cb3a3f/92e9f/image2.png 2620w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n会自动在根目录下创建一个<code class=\"language-text\">.github/workflows/main.yml</code>文件，我们可以修改文件名为<code class=\"language-text\">overpurple.yml</code>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.29113924050633%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAArUlEQVR42j2NzW6DMBgESdWoDQb/YX/YJjQFQuEU5f1fbqogtYfRHlY7W2mfaEyk1gHJN1rXc2kcLqQjgwzUjUMZwYaBD+WJ+ZtP5bBdwoXC6b3m7aw4nRXVRYdDqHRAmUhjBZNWbN7Q/YrJOyZtlOVJmR+0cUL3d3z5wead1qVj90f1euuHGSkT6boQ0g0rX4SyEIc7XZ7xaULGHRk3fH7JVrqyHJ2TESfXf34BfwBKz2kwv44AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/overpurple.io/static/16e9d5567fd6972cb6b39706c84e0942/f058b/image3.png\"\n        srcset=\"/overpurple.io/static/16e9d5567fd6972cb6b39706c84e0942/c26ae/image3.png 158w,\n/overpurple.io/static/16e9d5567fd6972cb6b39706c84e0942/6bdcf/image3.png 315w,\n/overpurple.io/static/16e9d5567fd6972cb6b39706c84e0942/f058b/image3.png 630w,\n/overpurple.io/static/16e9d5567fd6972cb6b39706c84e0942/40601/image3.png 945w,\n/overpurple.io/static/16e9d5567fd6972cb6b39706c84e0942/78612/image3.png 1260w,\n/overpurple.io/static/16e9d5567fd6972cb6b39706c84e0942/99e81/image3.png 1946w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n在<a href=\"https://github.com/marketplace?type=actions\">Github Actions市场</a>有很多预制的action，这里我们选择的是里的Gatsby Publish Node16\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.62025316455697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGUlEQVR42nWT3W7UMBBG+/SIZ+AFeAK44AZVKhIIFS5KC6VULG12m80msRP/23EOSna3lG070qc4M/LRzHjm6KZYsd40GOtxPmJ9RLuIMh5t3Py/9x9q8ivjEJ2av5PviJ2N46RxlvED1gW8d3Ms53wfO9SQ86yUEjmPHD0MbsEjnTLEYWQYwftI3bQ4H4gxzgoh4kOYJTtF00rWVY1z/jHQhsyrY8nLtw0v3jScLSR3y4Ku1yhtkMqijcX7wDAMc/ZTZnvGg5L/ZVi1ikoYejcSUiJESwwB6wOty6Scec7+A+6YGKMJu/5VRc+XDwXSZXycQCN5GPn+uWUjA8IkhiGTd5cPgFvnVNrUs8n6NrK4lKzrGqU0KcUZ+PusZVmUdLIjeU8K4Xng1NyuVww5IdaeH18b7oRiVWuETQQbOT9esyxaNpuevnOM1jLG+DTQWDtDp/Ka0nFxWlPJnrLuaXrH4APLk1PKoqLeSDqhSdpASo8fZQ9MaZjP8s5x+bliWQs2wiB0JHkD316zKpbcloKykpgJeFjy3pTWxJTm80pGPl4raqlpVUSahA+Z63PDqnbUKiB0otWJIY/PA6dZm0q+FSMnV5b1uqSsGupWIETPxaeaxVLOc2nsNOSJ8blH6dUE3JbQiYZfVz/Z9IFWeYQKpGE7hyH4eXMe3n1ysK119z1c/Lnh3fsTqs7TaYeas4nzdhzatCl/Ab/9PieG7tQRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"\"\n        src=\"/overpurple.io/static/725c2ba55499223ab47c1559778ff52b/f058b/image.png\"\n        srcset=\"/overpurple.io/static/725c2ba55499223ab47c1559778ff52b/c26ae/image.png 158w,\n/overpurple.io/static/725c2ba55499223ab47c1559778ff52b/6bdcf/image.png 315w,\n/overpurple.io/static/725c2ba55499223ab47c1559778ff52b/f058b/image.png 630w,\n/overpurple.io/static/725c2ba55499223ab47c1559778ff52b/40601/image.png 945w,\n/overpurple.io/static/725c2ba55499223ab47c1559778ff52b/78612/image.png 1260w,\n/overpurple.io/static/725c2ba55499223ab47c1559778ff52b/b1945/image.png 2754w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n点击Gatsby Publish Node16进去，我们将里面的使用代码粘贴进项目的<code class=\"language-text\">overpurple.yml</code>文件中保存。修改为下面code</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Overpurple Gatsby Publish\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> \n      <span class=\"token punctuation\">-</span> master\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v3\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Publish Node16\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> Xstoudi/gatsby<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>action@v3.0.0\n    <span class=\"token comment\"># - uses: enriikke/gatsby-gh-pages-action@v2</span>\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">access-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.OVERPURPLE <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">deploy-branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n        <span class=\"token key atrule\">gatsby-args</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>prefix<span class=\"token punctuation\">-</span>paths</code></pre></div>\n<p>这样就设置了工作流，它将根据yaml文件中定义的触发器运行。然后我push到仓库中，在每次代码提交master后就会触发actions</p>\n<blockquote>\n<p>这里我们可以遵循一些简单技巧，选择创建适合我们自己的actions</p>\n<ul>\n<li>了解问题，在开始构建前，我们确保要解决的问题以及如何解决。</li>\n<li>选择正确的技术栈：如使用javascript或 Docker 编写github actions。</li>\n<li>利用已有的软件包，如 @actions/core 和 @actions/github，它们提供了与 GitHub Actions 环境和 GitHub API 的简单互动。</li>\n<li>在成功创建自己的工作流程后，你有可能想要发布它。无论你是否发布，请确保测试你的 action 是否有潜在的问题或错误。</li>\n</ul>\n</blockquote>\n<p>关于创建自定义action：可参考<a href=\"https://docs.github.com/en/actions/creating-actions\">官方文档</a>提供的详细信息</p>\n<ul>\n<li>github actions组件介绍</li>\n</ul>\n<p>github actions主要由三个主要组件组成：工作流（Workflows）、事件(Events)、任务(Jobs)</p>\n<ul>\n<li>Workflows：定义自动化过程的规则集，它们在 YAML 文件中定义，该文件存储在 .github/workflows 目录中</li>\n<li>Events: 启动工作流。例如，你可以将事件设置为在创建PR或新开issie是运行工作流。要在工作流中定义时间，使用关键字on后跟事件名称</li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">issues</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>opened<span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">pull_request_target</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>opened<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>Jobs: 构成工作流程。默认情况下，任务是同时运行的。要在给定的工作流中定义你的任务，使用关键字jobs，后跟每个人物及其配置的唯一标识符</li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Check out repository\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up Python\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>python@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">python-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3.10</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install dependencies\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          pip install -r requirements.txt</span></code></pre></div>\n<p>如何实现代码QA的自动化，参考文章：<a href=\"https://www.freecodecamp.org/chinese/news/automate-open-source-projects-with-github-actions/\">如何使用 GitHub Actions 实现开源项目的自动化</a></p>","frontmatter":{"title":"About building this blog","date":"March 21, 2023","description":"Process steps to build my blogs‘ site based on gatsby-starter-blog."},"tableOfContents":"<ul>\n<li><a href=\"#%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA\">开始搭建</a></li>\n<li><a href=\"#%E4%BF%AE%E6%94%B9%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84\">修改目录结构</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8ts\">使用ts</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AEeslint%E5%92%8Cprettier\">配置Eslint和prettier</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AEhusky%E5%92%8Clint-staged%E6%9E%84%E5%BB%BA%E6%8F%90%E4%BA%A4%E6%A0%A1%E9%AA%8C\">配置husky和lint-staged构建提交校验</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AEtailwindcss\">配置tailwindcss</a></li>\n<li><a href=\"#%E5%B0%86%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BA%E5%A5%BD%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E8%87%B3github\">将本地搭建好的项目推送至github</a></li>\n<li><a href=\"#%E5%88%9B%E5%BB%BA%E9%BB%91%E6%9A%97%E6%A8%A1%E5%BC%8F\">创建黑暗模式</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8github-actions%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2\">使用Github Actions自动化部署</a></li>\n</ul>"},"previous":null,"next":{"fields":{"slug":"/the-pursuit-of-perfect-dark-patterns/"},"frontmatter":{"title":"The Pursuit of Perfect Dark Patterns"}}},"pageContext":{"id":"7b0c4f45-30b2-56f1-82a9-da7205138fc2","previousPostId":null,"nextPostId":"01102961-8bfa-554e-9e0e-7d2e91c7399b"}},"staticQueryHashes":["2787180309","3666494887"],"slicesMap":{}}