{"componentChunkName":"component---src-components-blog-post-layout-tsx","path":"/use-eslint-prettier/","result":{"data":{"site":{"siteMetadata":{"title":"overpurple - A blog by GuHo"}},"markdownRemark":{"id":"dd5ba332-6706-50f7-8aca-cb474357f1ce","excerpt":"概括 在这篇博文中，我将介绍ESLint和Prettier如何在ReactNative和React上配置并运行的。并且我将介绍husky和lint-staged的代码规范配置操作。\n你可以在github地址上看到eslint和prettier最终的配置。eslintrc-prettier\n至于对ReactNative…","html":"<h3 id=\"概括\" style=\"position:relative;\"><a href=\"#%E6%A6%82%E6%8B%AC\" aria-label=\"概括 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>概括</h3>\n<p>在这篇博文中，我将介绍ESLint和Prettier如何在ReactNative和React上配置并运行的。并且我将介绍husky和lint-staged的代码规范配置操作。\n你可以在github地址上看到eslint和prettier最终的配置。<a href=\"\">eslintrc-prettier</a>\n至于对ReactNative的使用，请参考博文：<a href=\"\">react-native的开发使用</a></p>\n<h3 id=\"eslint\" style=\"position:relative;\"><a href=\"#eslint\" aria-label=\"eslint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ESLint</h3>\n<p>由于react native cli模版中自带eslint和prettier，版本有可能不是最新，所以我们需要先进行删除卸载，删除.eslintrc.js文件和.prettierrc文件，然后再统一安装。</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn remove eslint prettier eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>prettier\n<span class=\"token comment\">//or</span>\nnpm uninstall eslint prettier eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>prettier</code></pre></div>\n<h4 id=\"安装eslint\" style=\"position:relative;\"><a href=\"#%E5%AE%89%E8%A3%85eslint\" aria-label=\"安装eslint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安装ESLint</h4>\n<p>eslint是es（ecmaScript）+ lint（show error code）的复合语言，分析源代码，使他们具有相同的代码风格的工具。\n在react native项目中执行下面的命令。</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">-</span><span class=\"token constant\">D</span> eslint</code></pre></div>\n<p>或者</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npm install <span class=\"token operator\">--</span>save<span class=\"token operator\">-</span>dev eslint</code></pre></div>\n<h4 id=\"配置eslint\" style=\"position:relative;\"><a href=\"#%E9%85%8D%E7%BD%AEeslint\" aria-label=\"配置eslint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置ESLint</h4>\n<p>安装好eslint后，我们就开始在react-native配置eslint（react项目类似）。</p>\n<h5 id=\"初始化eslint\" style=\"position:relative;\"><a href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96eslint\" aria-label=\"初始化eslint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>初始化eslint</h5>\n<p>执行下面命令进行初始化</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npx eslint <span class=\"token operator\">--</span>init</code></pre></div>\n<p>我们在终端可以看到下列步骤</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> How would you like to use ESLint<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n  To check syntax only\n  To check syntax and find problems\n❯ To check syntax<span class=\"token punctuation\">,</span> find problems<span class=\"token punctuation\">,</span> and enforce code style</code></pre></div>\n<p>我选择了<code class=\"language-text\">To check syntax, find problems, and enforce code style</code>检查样式并且自动修复它。</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> What type <span class=\"token keyword\">of</span> modules does your project use<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n❯ JavaScript <span class=\"token function\">modules</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">import</span><span class=\"token operator\">/</span><span class=\"token keyword\">export</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">CommonJS</span> <span class=\"token punctuation\">(</span>require<span class=\"token operator\">/</span>exports<span class=\"token punctuation\">)</span>\n  None <span class=\"token keyword\">of</span> these</code></pre></div>\n<p>在rn中，主要是用到<code class=\"language-text\">import/export</code>,故选择<code class=\"language-text\">JavaScript modules (import/export)</code>,回车下一步</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> Which framework does your project use<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n❯ React\n  Vue<span class=\"token punctuation\">.</span>js\n  None <span class=\"token keyword\">of</span> these</code></pre></div>\n<p>这一步毋庸置疑选<code class=\"language-text\">React</code></p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> Does your project use TypeScript<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">/</span><span class=\"token constant\">N</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>我们使用typescript集成react native，所以选y</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> Where does your code run<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Press <span class=\"token operator\">&lt;</span>space<span class=\"token operator\">></span> to select<span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span> to toggle all<span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span>i<span class=\"token operator\">></span> to invert selection<span class=\"token punctuation\">)</span>\n ◯ Browser\n❯◉ Node</code></pre></div>\n<p>react native 不在浏览器上运行，所以只选择Node， react 选择这两个，这里不同于其他选项，按空格键进行选择，回车键下一步</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> How would you like to define a style <span class=\"token keyword\">for</span> your project<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n  Use a popular style guide\n❯ Answer questions about your style\n  Inspect your JavaScript <span class=\"token function\">file</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span></code></pre></div>\n<p>这里是通过eslint实现什么样的风格，我选择了<code class=\"language-text\">Answer questions about your style</code>自定义风格</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> What format <span class=\"token keyword\">do</span> you want your config file to be <span class=\"token keyword\">in</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n  JavaScript\n  <span class=\"token constant\">YAML</span>\n❯ <span class=\"token constant\">JSON</span></code></pre></div>\n<p>这里是选择要创建的eslint文件，我们选择JSON</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> What style <span class=\"token keyword\">of</span> indentation <span class=\"token keyword\">do</span> you use<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n❯ Tabs\n  Spaces</code></pre></div>\n<p>这里可以根据你的习惯来进行设置缩进样式，我选择的是tab</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> What quotes <span class=\"token keyword\">do</span> you use <span class=\"token keyword\">for</span> strings<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n  Double\n❯ Single</code></pre></div>\n<p>我选择单引号</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> What line endings <span class=\"token keyword\">do</span> you use<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>Use arrow keys<span class=\"token punctuation\">)</span>\n❯ Unix\n  Windows</code></pre></div>\n<p>mac用户，选择<code class=\"language-text\">Unix</code></p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">?</span> Do you require semicolons<span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Y</span><span class=\"token operator\">/</span>n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>选择是否分号结尾，这里我选择Y</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">The config that you've selected requires the following dependencies<span class=\"token operator\">:</span>\n\neslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>react@latest @typescript<span class=\"token operator\">-</span>eslint<span class=\"token operator\">/</span>eslint<span class=\"token operator\">-</span>plugin@latest @typescript<span class=\"token operator\">-</span>eslint<span class=\"token operator\">/</span>parser@latest</code></pre></div>\n<p>最后一步安装依赖。</p>\n<h5 id=\"详细配置eslint\" style=\"position:relative;\"><a href=\"#%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AEeslint\" aria-label=\"详细配置eslint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>详细配置eslint</h5>\n<p>因为刚开始选择了<code class=\"language-text\">Answer questions about your style</code>设置eslint，所以我们需要更改<code class=\"language-text\">.eslint.json</code>文件。\n首先我们执行下面命令安装需要的插件</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">-</span><span class=\"token constant\">D</span> eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>react @typescript<span class=\"token operator\">-</span>eslint<span class=\"token operator\">/</span>eslint<span class=\"token operator\">-</span>plugin @typescript<span class=\"token operator\">-</span>eslint<span class=\"token operator\">/</span>parser eslint<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>react<span class=\"token operator\">-</span>hooks</code></pre></div>\n<p>配置<code class=\"language-text\">.eslint.json</code>文件</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"node\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"es2021\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"jest\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"eslint:recommended\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"plugin:react/recommended\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"plugin:react-hooks/recommended\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"plugin:@typescript-eslint/eslint-recommended\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"plugin:@typescript-eslint/recommended\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"overrides\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"parser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@typescript-eslint/parser\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"parserOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"ecmaVersion\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"latest\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"sourceType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"module\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"ecmaFeatures\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"import\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"react-hooks\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"@typescript-eslint\"</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rules\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"no-console\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token property\">\"indent\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"off\"</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">// import</span>\n        <span class=\"token property\">\"import/order\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"pathGroups\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"pattern\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"external\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"position\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"before\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"pattern\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@/**\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"external\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"position\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"after\"</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"pathGroupsExcludedImportTypes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"react\"</span><span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"import/first\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"import/no-mutable-exports\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>在package.json中添加script执行lint</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"tsc\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc --noEmit\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint . --fix --ext .js,.jsx,.ts,.tsx\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>可以执行<code class=\"language-text\">yarn lint</code>看code是否配置成功。</p>\n<h5 id=\"在vscode上使用eslint\" style=\"position:relative;\"><a href=\"#%E5%9C%A8vscode%E4%B8%8A%E4%BD%BF%E7%94%A8eslint\" aria-label=\"在vscode上使用eslint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>在vscode上使用eslint</h5>\n<p>如果是使用vscode，就要安装eslint插件\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/overpurple.io/static/5501491fb179a37c1f30e7e812149847/8ed15/vscode-eslint-extension.avif\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.68354430379747%; position: relative; bottom: 0; left: 0; background-image: url('data:image/heif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAAPgAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EgAgAAAAAUaXNwZQAAAAAAAAAUAAAABQAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEgYIDhAAAAEZtZGF0EgAKCDgQpxhAgIGkMjAYAAAAUPqJE3DEAYBe1umDDfTzniyzrI/5jZ+IJI5kpb86QKdH2jVgHEsv2/9ru0I='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"\"\n        src=\"/overpurple.io/static/5501491fb179a37c1f30e7e812149847/5d31c/vscode-eslint-extension.avif\"\n        srcset=\"/overpurple.io/static/5501491fb179a37c1f30e7e812149847/c35b1/vscode-eslint-extension.avif 158w,\n/overpurple.io/static/5501491fb179a37c1f30e7e812149847/2c8de/vscode-eslint-extension.avif 315w,\n/overpurple.io/static/5501491fb179a37c1f30e7e812149847/5d31c/vscode-eslint-extension.avif 630w,\n/overpurple.io/static/5501491fb179a37c1f30e7e812149847/59707/vscode-eslint-extension.avif 945w,\n/overpurple.io/static/5501491fb179a37c1f30e7e812149847/8ed15/vscode-eslint-extension.avif 1248w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n在项目的.vscode的react目录下创建<code class=\"language-text\">setting.json</code>文件，并添加下面的code,保存文件时，eslint就会自动修复。</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"editor.codeActionsOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"source.fixAll.eslint\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"配置prettier\" style=\"position:relative;\"><a href=\"#%E9%85%8D%E7%BD%AEprettier\" aria-label=\"配置prettier permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>配置prettier</h4>\n<p>Prettier 是一个 Code Formatter，按规则制作相同的代码风格。ESLint 是一种 JavaScript 的代码格式化器，Prettier 是所有源代码的代码格式化器。</p>\n<p>执行下面命令安装prettier</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn add -D prettier eslint-plugin-prettier</code></pre></div>\n<p>修改.prettier文件</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"arrowParens\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"avoid\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"singleQuote\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"semi\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>在eslint上配置prettier</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  extends<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    ...\n    <span class=\"token string\">\"plugin:prettier/recommended\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>在vscode上使用prettier\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/overpurple.io/static/99f68335965416b309f2863f7682028c/8ed15/vscode-prettier-extension.avif\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.68354430379747%; position: relative; bottom: 0; left: 0; background-image: url('data:image/heif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAALgAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EgAgAAAAAUaXNwZQAAAAAAAAAUAAAABQAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEgYIDhAAAADZtZGF0EgAKCDgQpxhAgIGkMiAYAAQQAQUA+BhoLYQVMQ4SuWzUEU3xZykraREJhdb1NA=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"\"\n        src=\"/overpurple.io/static/99f68335965416b309f2863f7682028c/5d31c/vscode-prettier-extension.avif\"\n        srcset=\"/overpurple.io/static/99f68335965416b309f2863f7682028c/c35b1/vscode-prettier-extension.avif 158w,\n/overpurple.io/static/99f68335965416b309f2863f7682028c/2c8de/vscode-prettier-extension.avif 315w,\n/overpurple.io/static/99f68335965416b309f2863f7682028c/5d31c/vscode-prettier-extension.avif 630w,\n/overpurple.io/static/99f68335965416b309f2863f7682028c/59707/vscode-prettier-extension.avif 945w,\n/overpurple.io/static/99f68335965416b309f2863f7682028c/8ed15/vscode-prettier-extension.avif 1248w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n在.vscode/react文件目录下添加下面json</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"editor.defaultFormatter\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"esbenp.prettier-vscode\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"editor.formatOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>如果想配置 import 成员排序可参考: <a href=\"https://www.volcengine.com/theme/5319480-R-7-1\">如何使用eslint-plugin-import进行import成员排序？</a>\nnextjs项目 可以参考这篇文章: <a href=\"https://juejin.cn/post/7268594193932533823\">如何给 Next.js 项目配置代码格式化和校验</a> <a href=\"https://www.volcengine.com/theme/6303573-N-7-1\">NextJS-Linter与lint-staged不起作用</a></p>\n<h4 id=\"接入husky和lint-staged\" style=\"position:relative;\"><a href=\"#%E6%8E%A5%E5%85%A5husky%E5%92%8Clint-staged\" aria-label=\"接入husky和lint staged permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>接入husky和lint-staged</h4>\n<h5 id=\"安装husky\" style=\"position:relative;\"><a href=\"#%E5%AE%89%E8%A3%85husky\" aria-label=\"安装husky permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安装husky</h5>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">-</span><span class=\"token constant\">D</span> husky</code></pre></div>\n<p>然后执行</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// npm7及以上可以执行</span>\nnpm set<span class=\"token operator\">-</span>script prepare <span class=\"token string\">\"husky install\"</span>\n\n<span class=\"token comment\">// npm7以下可以执行</span>\nnpx npe scripts<span class=\"token punctuation\">.</span>prepare <span class=\"token string\">\"husky install\"</span></code></pre></div>\n<p>这个命令在package.json的script里添加<code class=\"language-text\">\"prepare\": \"husky install\"</code>\n或者手动在script里添加<code class=\"language-text\">\"prepare\": \"husky install\"</code>。</p>\n<p>执行<code class=\"language-text\">yarn prepare</code>就会在项目目录下生成<code class=\"language-text\">.husky</code>目录。\n再执行以下命令生成hook钩子<code class=\"language-text\">pre-commit</code></p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npx husky add <span class=\"token punctuation\">.</span>husky<span class=\"token operator\">/</span>pre<span class=\"token operator\">-</span>commit <span class=\"token string\">\"npx lint-staged\"</span></code></pre></div>\n<blockquote>\n<p>⚠️ 注意：window下不要使用node-16版本来执行这个命令，会报错。</p>\n</blockquote>\n<p>这个🐶会在commit的时候执行，执行的是 后面的引号部份<code class=\"language-text\">yarn run lint</code></p>\n<h5 id=\"安装lint-staged\" style=\"position:relative;\"><a href=\"#%E5%AE%89%E8%A3%85lint-staged\" aria-label=\"安装lint staged permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安装lint-staged</h5>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">-</span><span class=\"token constant\">D</span> lint<span class=\"token operator\">-</span>staged</code></pre></div>\n<p>我在lint的命令执行lint-staged，然后在lint-staged根据匹配的文件进行代码格式化和<code class=\"language-text\">git add </code></p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prepare\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"husky install\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint . --fix --ext .js,.jsx,.ts,.tsx\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"lint-staged\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"*.{js,jsx,ts,tsx}\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"eslint --fix\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"git add\"</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>这样就在react项目中接入好了eslint、prettier、husky和lint-staged。</p>","frontmatter":{"title":"Code beautification and commit","date":"April 19, 2023","description":"Config eslint\\prettier\\husky\\lint-staged in the react native project"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E6%A6%82%E6%8B%AC\">概括</a></p>\n</li>\n<li>\n<p><a href=\"#eslint\">ESLint</a></p>\n<ul>\n<li>\n<p><a href=\"#%E5%AE%89%E8%A3%85eslint\">安装ESLint</a></p>\n</li>\n<li>\n<p><a href=\"#%E9%85%8D%E7%BD%AEeslint\">配置ESLint</a></p>\n<ul>\n<li><a href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96eslint\">初始化eslint</a></li>\n<li><a href=\"#%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AEeslint\">详细配置eslint</a></li>\n<li><a href=\"#%E5%9C%A8vscode%E4%B8%8A%E4%BD%BF%E7%94%A8eslint\">在vscode上使用eslint</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E9%85%8D%E7%BD%AEprettier\">配置prettier</a></p>\n</li>\n<li>\n<p><a href=\"#%E6%8E%A5%E5%85%A5husky%E5%92%8Clint-staged\">接入husky和lint-staged</a></p>\n<ul>\n<li><a href=\"#%E5%AE%89%E8%A3%85husky\">安装husky</a></li>\n<li><a href=\"#%E5%AE%89%E8%A3%85lint-staged\">安装lint-staged</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/new-beginnings/"},"frontmatter":{"title":"New Beginnings"}},"next":{"fields":{"slug":"/use-react-native/"},"frontmatter":{"title":"The development and use of ReactNative"}}},"pageContext":{"id":"dd5ba332-6706-50f7-8aca-cb474357f1ce","previousPostId":"1fb52d09-8603-5bab-9fd6-a8dfc82d4d3a","nextPostId":"6d5f630f-f24c-597c-b171-934e9c8dbb8b"}},"staticQueryHashes":["2787180309","3666494887"],"slicesMap":{}}